{% extends "base.html" %}

{% block title %}Sugest√£o de Compras{% endblock %}

{% block content %}
<section class="form-container">
    <h2>Adicionar Sugest√£o de Compra</h2>
    <form id="form-sugestao">
        <div id="sugestao-itens-container"></div>
        <div class="form-group">
            <button type="button" id="btn-add-sugestao-item" class="btn btn--secondary" style="width:100%;">+ Adicionar
                outra sugest√£o</button>
        </div>
        <hr>
        <div class="form-group">
            <label for="sugestao-observacao-geral">Observa√ß√£o Geral (Opcional)</label>
            <textarea id="sugestao-observacao-geral" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn--primary" style="width:100%;">Salvar Sugest√µes</button>
    </form>
</section>

<hr>

<section class="form-container" style="max-width: 800px; padding: 1.5rem; margin-bottom: 2rem;">
    <input type="text" id="filtro-sugestoes" placeholder="üîé Buscar por c√≥digo ou vendedor...">
</section>

<div class="layout-grid-4-cols">
    <section class="sugestoes-coluna">
        <h2>Sugest√µes Pendentes</h2>
        <div id="lista-sugestoes-pendentes" class="quadro-container"
            style="display: flex; flex-direction: column; gap: 1rem;"></div>
        <div class="pagination-container" id="pagination-pendente">
            <div class="spinner" style="display: none;"></div>
            <button class="btn btn--secondary btn-ver-mais" style="display: none;">Ver mais</button>
        </div>
    </section>
    <section class="sugestoes-coluna">
        <h2>Sugest√µes Cogitadas</h2>
        <div id="lista-sugestoes-cogitadas" class="quadro-container"
            style="display: flex; flex-direction: column; gap: 1rem;"></div>
        <div class="pagination-container" id="pagination-cogitado">
            <div class="spinner" style="display: none;"></div>
            <button class="btn btn--secondary btn-ver-mais" style="display: none;">Ver mais</button>
        </div>
    </section>
    <section class="sugestoes-coluna">
        <h2>Parcialmente Atendidos</h2>
        <div id="lista-sugestoes-parciais" class="quadro-container"
            style="display: flex; flex-direction: column; gap: 1rem;"></div>
        <div class="pagination-container" id="pagination-parcialmente_atendido">
            <div class="spinner" style="display: none;"></div>
            <button class="btn btn--secondary btn-ver-mais" style="display: none;">Ver mais</button>
        </div>
    </section>
    <section class="sugestoes-coluna">
        <h2>Pedidos Finalizados</h2>
        <div id="lista-sugestoes-atendidas" class="quadro-container"
            style="display: flex; flex-direction: column; gap: 1rem;"></div>
        <div class="pagination-container" id="pagination-atendido">
            <div class="spinner" style="display: none;"></div>
            <button class="btn btn--secondary btn-ver-mais" style="display: none;">Ver mais</button>
        </div>
    </section>
</div>

<div id="edit-sugestao-modal-overlay" class="modal-overlay" style="display:none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="edit-sugestao-modal-title">Editar Sugest√£o</h2>
            <button class="close-modal">√ó</button>
        </div>
        <div class="modal-body">
            <form id="form-edit-sugestao" novalidate>
                <div id="edit-sugestao-itens-container"></div>
                <div class="form-group">
                    <button type="button" id="btn-add-edit-sugestao-item" class="btn btn--secondary"
                        style="width:100%;">+ Adicionar outro item</button>
                </div>
                <hr>
                <!-- NOVO CAMPO DE VENDEDOR NO MODAL DE EDI√á√ÉO -->
                <div class="form-group">
                    <label for="edit-sug-vendedor">Vendedor</label>
                    <select id="edit-sug-vendedor" required data-placeholder="Selecione um Vendedor"></select>
                </div>
                <div class="form-group">
                    <label for="edit-sug-descricao">Observa√ß√£o Geral</label>
                    <textarea id="edit-sug-descricao" rows="3"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btn-cancel-edit-sugestao" class="btn btn--secondary">Cancelar</button>
                    <button type="submit" id="btn-save-edit-sugestao" class="btn btn--primary">Salvar
                        Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}